## Ссылка на репозиторий с проектом:
https://github.com/AlexanderNkn/graduate_work

## Описание
Это онлайн-кинотеатр с голосовым поиском по коллекции фильмов.

## Установка
- склонируйте проект с реппозитория GitHub
    ```
    git clone https://github.com/AlexanderNkn/graduate_work
    ```
- начальная настройка проекта происходит при запуске bash скрипта initial_setup.sh. При этом выполняются следующие действия:
    * создаются .env файлы с переменными окружения
    * собираются образы
    * создаются базы данных и в них загружаются схемы
- для запуска initial_setup.sh нужно дать ему разрешение на запуск и исполнить
    ```
    chmod +x initial_setup.sh && ./initial_setup.sh
    ```
- запустите проект
    ```
    docker-compose up -d
    ```

## Тестирование
### В контейнере
- тесты запускаются автоматически при старте контейнеров. Для перезапуска выполните
    ```
    docker-compose start test_auth
    docker-compose start test-movies-api
    ```

## Использование
- для пополнения коллекции с фильмами подключитесь к сервису movies_admin и создайте пользователя
    ```
    docker-compose exec web bash
    python manage.py createsuperuser
    ```
- перейдите по адресу http://localhost/admin/ и заполните соответствующие формы с филмами, персонами и жанрами. 
- ETL процесс каждые 5 мин переносит новые фильмы, персоны и жанры в поисковую базу ElasticSearch. После этого данные будут доступны в сервисе movies_api.
